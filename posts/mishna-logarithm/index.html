<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חשבון הגביה ונפל אחרת (תרומות ה&#39; ז&#39;)</title>
    <meta name="description" content="חשבון הגביה ונפל אחרת (תרומות ה&#39; ז&#39;)">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/assets/main.bundle.css">
    <script src="/assets/main.bundle.js"></script>
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="yosssizahn&#39;s tech blog">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="yosssizahn&#39;s tech blog">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;0,900;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
  </head>
  <body class="mt-6">
    <div class="mx-auto max-w-3xl">
      <header class="mb-24">
        <ul class="flex justify-end">
          <li class="m-4">
            <a target="_blank" href="https://stackoverflow.com/users/8997905/yossizahn"><img width="24" src="/img/stack-overflow.png"/><a/></li>
            <li class="m-4">
              <a target="_blank" href="https://github.com/yossizahn"><img width="24" src="/img/github.png"/></a>
            </li>
            <li class="m-4">
              <a target="_blank" href="https://www.buymeacoffee.com/yossizahn"><img src="/img/BMC-btn-logo.svg" alt="Buy me a coffee"></a>
            </li>
          </ul>
          <h1 class="home mt-8 flex flex-col justify-center items-center">
            <img class="mx-auto" src="https://secure.gravatar.com/avatar/3f9dbf0ed722a4dbe777ead1b0775174.jpg?s=150&amp;d=mm" width="80" height="80" alt="Yossi Zahn Avatar">
            <a href="/" class="m-2 text-gray-700 font-bold  text-lg">yosssizahn&#39;s tech blog</a>
          </h1>
          <nav>
            <ul class="nav flex justify-center">
                <li class="nav-item m-4">
                  <a href="/"  class="text-gray-500 ">Home</a>
                </li>
                <li class="nav-item m-4">
                  <a href="/posts/"  class="text-gray-500 ">Archive</a>
                </li>
                <li class="nav-item m-4">
                  <a href="/about/"  class="text-gray-500 ">About Me</a>
                </li>
            </ul>
          </nav>
        </header>

        <main class="tmpl-post">
          
<script>
  window.MathJax = {
    tex: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"],
      ],
      displayMath: [
        ["$$", "$$"],
        ["\\[", "\\]"],
      ],
    },
  };
</script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"
></script>

<article class="prose rtl" dir="rtl">
  <h1>חשבון הגביה ונפל אחרת (תרומות ה&#39; ז&#39;)</h1>

  <p>איתא במתני' (תרומות פ&quot;ז מ&quot;ב):</p>
<blockquote>
<p>סאה תרומה שנפלה למאה, הגביהה ונפלה אחרת הגביהה ונפלה אחרת הרי זו מותרת עד שתרבה תרומה על החולין</p>
</blockquote>
<p>ובספר עטרת שאול בסופו (<a href="https://hebrewbooks.org/pdfpager.aspx?req=7071&amp;pgnum=144" target="_blank" rel="noopener noreferrer" class="external-link">קישור</a>):</p>
<blockquote>
<p>נשאלתי בווילנא הבירה מאת הגביר החריף ובקי פטיש החזק המפרוסם הרב מהו' שמואל שטראשון בענין המשנה דמסכת תרומות הגביהה ונפלה אחרת וכו' הרי&quot;ז מותרת עד שתרבה תרומה על החולין, ושאל לי החשבון האמיתי מתי יהיה הדבר הזה לדעת רבנן דאין מדמעת אלא לפי חשבון.<br>
והשבתי לו בזה הלשון….</p>
</blockquote>
<p>מכיון שקשה לעמוד על כוונת מחבר הספר, רציתי לבאר את הדברים היטב עם תרגום המינוחים המתמטיים למינוחים בני ימינו.</p>
<p>כלל הדברים הוא שהמחבר מביא שתי דרכים שבסופן מגיעים לאותו נוסחה. נבאר את שתי הדרכים הדק היטב בעז&quot;ה.</p>
<h2 id="%D7%97%D7%99%D7%A9%D7%95%D7%91-%D7%A9%D7%99%D7%A2%D7%95%D7%A8-%D7%94%D7%AA%D7%A8%D7%95%D7%9E%D7%94-%D7%A9%D7%A0%D7%A4%D7%9C%D7%94" tabindex="-1">חישוב שיעור התרומה שנפלה <a class="external-link" href="#%D7%97%D7%99%D7%A9%D7%95%D7%91-%D7%A9%D7%99%D7%A2%D7%95%D7%A8-%D7%94%D7%AA%D7%A8%D7%95%D7%9E%D7%94-%D7%A9%D7%A0%D7%A4%D7%9C%D7%94" target="_blank" rel="noopener noreferrer">#</a></h2>
<p>כשנחשוב לעצמנו כמה תרומה נוספה לכרי נגיע למסקנה זו:<br>
בכל איטרציה של נפילה/הגבהה אתה מוסיף לכרי סאה אחת של תרומה, ואז מגביה מהכרי שיעור $\frac{1}{101}$ מתוך הסאה הנוספת וכל הסאים שבאו לפניה.<br>
יוצא אם כן, שבנפילה האחרונה, שנקרא לה נפילה מספר $n$, נשארו סה&quot;כ לתוך הכרי:</p>
<ul>
<li>$\frac{100}{101}$ (מהנפילה האחרונה)</li>
<li>$\frac{100}{101}\times\frac{100}{101}$ (מהנפילה שלפני האחרונה)</li>
<li>$\frac{100}{101}\times\frac{100}{101}\times\frac{100}{101}$</li>
<li>…. (וכן הלאה עבור כל נפילה עד הראשונה ששיעורו:)</li>
<li>$\frac{100}{101}\times\cdots\times\frac{100}{101}$ (כמספר הנפילות)</li>
</ul>
<p>במינוח המתמטי המודרני הסדרה הזאת של מספרים נקראת &quot;<a href="https://www.hamichlol.org.il/%D7%A1%D7%93%D7%A8%D7%94_%D7%94%D7%A0%D7%93%D7%A1%D7%99%D7%AA" target="_blank" rel="noopener noreferrer" class="external-link">סדרה הנדסית</a>&quot; והסה&quot;כ של חיבור כל המספרים מהסדרה נקרא &quot;<a href="https://www.hamichlol.org.il/%D7%98%D7%95%D7%A8_(%D7%9E%D7%AA%D7%9E%D7%98%D7%99%D7%A7%D7%94)#%D7%98%D7%95%D7%A8_%D7%94%D7%A0%D7%93%D7%A1%D7%99" target="_blank" rel="noopener noreferrer" class="external-link">טור הנדסי</a>&quot;</p>
<blockquote>
<p>ℹ️ כל סדרה של מספרים שהמעבר ממספר למספר כרוך בפעולת כפל עם ערך קבוע (במקרה שלנו זה כפל ב-$\frac{100}{101}$) נקרא &quot;סדרה הנדסית&quot;.<br>
באנגלית זה נקרא Geometric Sequence ובלשון הספר עטרת שאול זה נקרא &quot;חרוזה מדידית&quot; (התרגום של גיאומטריה הוא &quot;מדידת קרקע&quot; - מובן אם כן למה הוא קורא לזה &quot;חרוזה מדידית&quot; כמו המונח האנגלי המקובל שמן הסתם מתאים למונח בשפות אחרות)</p>
</blockquote>
<p>בתחביר יותר מקובל זה נכתב כך:</p>
<p>$$<br>
\left(\dfrac{100}{101}\right)+\left(\dfrac{100}{101}\right)^2+\cdots+\left(\dfrac{100}{101}\right)^{n}<br>
$$</p>
<blockquote>
<p>ובקיצור (למי שמכיר את הסימון):</p>
</blockquote>
<p>$$<br>
\sum_{k=1}^{n}\left(\frac{100}{101}\right)^{k}<br>
$$</p>
<p>לשם הנוחות אני אתחיל להשתמש באות $r$ מעתה במקום השבר $\frac{100}{101}$</p>
<p>הנוסחה הסופית שלנו (לבינתיים) היא:</p>
<p>$$<br>
r+r^2+\cdots+r^n<br>
$$</p>
<p>אז השאלה היא איך מקבלים את הסה&quot;כ של טור הנדסית?</p>
<p>למרבה המזל 😅 יש דרך קלה ונקייה לחשב את הסה&quot;כ של הטור בלי להסתבך בשברים מסובכים, צריך רק קצת אלגברה…</p>
<p>השיטה היא כזאת:<br>
ניקח את כל הסדרה ונסמן אותה כ: $S_n$ (אנחנו מייצגים את החישוב של הסך הכולל עם אות $S$ והפרמטר של כמה איטרציות עם ה $n$ הקטן):</p>
<p>$$<br>
S_n=r+r^2+\cdots+r^n<br>
$$</p>
<p>עכשיו ניצור עוד סידרה שערכה $S_n\times{r}$ (כל ערך בסדרה המקורית נכפל ב-$r$) בסדרה החדשה:</p>
<p>$$<br>
rS_n=r^2+r^3+\cdot+r^{n+1}<br>
$$</p>
<p>עכשיו נחסר את הסידרה השניה מהראשונה, ונקבל משוואה זו:</p>
<p>$$<br>
S_n-rS_n=\left(r+r^2+\cdots+r^n\right)-\left(r^2+r^3+\cdot+r^{n+1}\right)<br>
$$</p>
<p>עכשיו שימו לב: עבור כל ערך של הסדרה הראשונה יש מולו ערך בסדרה השניה ש&quot;מחסל&quot; אותו ($r^2-r^2=0$) חוץ מהערך הראשון של הסדרה הראשונה והערך האחרון של הסדרה השניה. נשארנו עם משוואה כזאת:</p>
<p>$$<br>
S_n-rS_n=r-r^{n+1}<br>
$$</p>
<p>עכשיו נפשט את הנוסחה קצת על ידי הוצאת הגורם המשותף בכל אחד משני הצדדים, נקבל:</p>
<p>$$<br>
S_n(1-r)=r(1-r^n)<br>
$$</p>
<p>עכשיו נבודד את ה-$S_n$ לצד אחד על ידי חילוק שני הצדדים ב- $1-r$, קיבלנו:</p>
<p>$$<br>
S_n=\frac{r(1-r^n)}{1-r}<br>
$$</p>
<p>עכשיו נכניס חזרה את הערך של $r$ במקום האות, קיבלנו:</p>
<p>$$<br>
S_n=\dfrac{\dfrac{100}{101}\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)}{1-\dfrac{100}{101}}<br>
$$</p>
<p>את זה אפשר לפשט יותר על ידי כמה פעולות אלגבריות<br>
א. נחליף את $1-\frac{100}{101}$ בתוצאה: $\frac{1}{100}$<br>
ב. אפשר להמיר פעולת חלוקה בפעולת כפל של ההופכי, קיבלנו:</p>
<p>$$<br>
S_n=\dfrac{100}{101}\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)\cdot{101}<br>
$$</p>
<p>ג. אפשר שוב לפשט יותר:</p>
<p>$$<br>
S_n=\dfrac{100}{\cancel{101}}\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)\cdot{\cancel{101}}<br>
$$</p>
<p>קיבלנו:</p>
<p>$$<br>
100\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)<br>
$$</p>
<h2 id="%D7%97%D7%99%D7%A9%D7%95%D7%91-%D7%90%D7%97%D7%A8%D7%99-%D7%9B%D7%9E%D7%94-%D7%A4%D7%A2%D7%9E%D7%99%D7%9D-%D7%A0%D7%92%D7%99%D7%A2-%D7%9C%D7%A8%D7%95%D7%91-%D7%94%D7%9B%D7%A8%D7%99" tabindex="-1">חישוב אחרי כמה פעמים נגיע לרוב הכרי <a class="external-link" href="#%D7%97%D7%99%D7%A9%D7%95%D7%91-%D7%90%D7%97%D7%A8%D7%99-%D7%9B%D7%9E%D7%94-%D7%A4%D7%A2%D7%9E%D7%99%D7%9D-%D7%A0%D7%92%D7%99%D7%A2-%D7%9C%D7%A8%D7%95%D7%91-%D7%94%D7%9B%D7%A8%D7%99" target="_blank" rel="noopener noreferrer">#</a></h2>
<p>עכשיו ננסה למצוא פתרון באיזה $n$ יהיה התוצאה מעל ל $50$ (= יש יותר מ-50 סאה תרומה)<br>
אז ניצור משוואה זו:</p>
<p>$$<br>
100\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)\gt50<br>
$$</p>
<p>ננסה לבודד את ה $n$ בצד אחד:<br>
א. נחלק שני הצדדים ב-100:</p>
<p>$$<br>
\dfrac{100\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)}{100}\gt\dfrac{50}{100}<br>
$$</p>
<p>ב. פישוט:</p>
<p>$$<br>
\dfrac{\cancel{100}\cdot\left(1-\left(\dfrac{100}{101}\right)^n\right)}{\cancel{100}}\gt\dfrac{\cancel{50}}{\cancel{100}} = \dfrac{1}{2}<br>
$$</p>
<p>קיבלנו:</p>
<p>$$<br>
1-\left(\dfrac{100}{101}\right)^n\gt\dfrac{1}{2}<br>
$$</p>
<p>ג. נוריד $1$ משני הצדדים:</p>
<p>$$<br>
-\left(\dfrac{100}{101}\right)^n\gt-\dfrac{1}{2}<br>
$$</p>
<p>ד. נחליף את השלילי לחיובי על ידי כפל ב $-1$ ושינוי כיוון המשוואה:</p>
<p>$$<br>
\left(\dfrac{100}{101}\right)^n\lt\dfrac{1}{2}<br>
$$</p>
<p>ה. עכשיו כדי לבודד את ה $n$ נשתמש בפונקצית $log$ (הסבר תמציתי: בהינתן: $a^b=n$ אז $log_b(n)=a$, כלומר: פעולת $log$ עונה על השאלה &quot;$b$ בחזקת מה שווה ל $n$?&quot;. ע&quot;ע <a href="https://www.hamichlol.org.il/%D7%9C%D7%95%D7%92%D7%A8%D7%99%D7%AA%D7%9D" target="_blank" rel="noopener noreferrer" class="external-link">לוגריתם</a>)<br>
קיבלנו:</p>
<p>$$<br>
n&lt;log_{\frac{100}{101}}\left(\frac{1}{2}\right)<br>
$$</p>
<p>ו. לשלב הזה צריך להשתמש במחשבון מדעי… אבל במחשבון אין כפתור עבור $log_{\frac{100}{101}}$. אז נשתמש בנוסחה להמרת הבסיס של הלוגריתם:</p>
<p>$$<br>
n\lt\dfrac{ln(0.5)}{ln\left(\dfrac{100}{101}\right)}\approx69.66<br>
$$</p>
<p>זהו! הגענו לתשובה שאחרי $\approx69.66$ יש רוב של תרומה.</p>
<h2 id="%D7%94%D7%A9%D7%99%D7%98%D7%94-%D7%94%D7%A9%D7%A0%D7%99%D7%94" tabindex="-1">השיטה השניה <a class="external-link" href="#%D7%94%D7%A9%D7%99%D7%98%D7%94-%D7%94%D7%A9%D7%A0%D7%99%D7%94" target="_blank" rel="noopener noreferrer">#</a></h2>
<p>בעטרת שאול הנ&quot;ל הוא עומד על זה שיש שיטה הרבה יותר פשוטה להגיע לאותו חישוב.<br>
הרעיון הוא פשוט מאוד: במקום לחשוב על התרומה שנפלה נחשוב על החולין.<br>
אחרי כל איטרציה של נפילה/הגבהה החולין יורד בסך: $\frac{1}{101}$<br>
אם כן אחרי $n$ נפילות, הסך של החולין שנשאר הוא:</p>
<p>$$<br>
100\times\left(\dfrac{100}{101}\right)^n<br>
$$</p>
<p>מיד אפשר לנו להגיע למשוואה כזו שמציין את נקודת הזמן שהחולין פחות מחצי הכרי:</p>
<p>$$<br>
100\times\left(\dfrac{100}{101}\right)^n&lt;50<br>
$$</p>
<p>נחלק כל צד במאה:</p>
<p>$$<br>
\dfrac{\cancel{100}\times\left(\dfrac{100}{101}\right)^n}{\cancel{100}}\lt\dfrac{\cancel{50}}{\cancel{100}} = \dfrac{1}{2}<br>
$$</p>
<p>והנה הגענו שוב לאותה משוואה שהיה לנו מקודם:</p>
<p>$$<br>
\left(\dfrac{100}{101}\right)^n\lt\dfrac{1}{2}<br>
$$</p>
<p>באמת קצת פלא בעיני שהעטרת שאול טורח לעשות את החישוב של טור הנדסי שיותר מסובך במקום החישוב הפשוט יותר</p>

</article>
<ul class="my-12 text-gray-600">
  <li>
    Previous:
    <a href="/posts/split-sort/" class="underline">“Split sort” with some bit twiddling</a>
  </li>
  
</ul>

        </main>

        <footer></footer>

        <!-- Current page: /posts/mishna-logarithm/ -->
      </div>
    </body>
  </html>
